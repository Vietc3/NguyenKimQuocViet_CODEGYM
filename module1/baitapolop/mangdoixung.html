<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let dem = 0;
    let dem2 = 0;
    let dem3 = 0;
    let dem4 = 0;
    let array = Array();
    array = [0,5,1,1,1,5,0,1,1,1,5,7];
    //51115
    //

    for (let i = 0; i < array.length; i++) {
        dem = 0;


    for (let j = array.length -1; j >= 0; j--) {
        for (dem; dem < (j + 1) / 2; dem++) {
            if (array[dem] !== array[j - dem]) {
                dem2 = 0;
                dem = 0;
                break;
            }

            dem2++;
            if (dem2 === 2 && dem === j - dem) {
                dem2 = 0;
                dem = 0;
                break;
            }
        }

        if (Math.round((j + 1) / 2) === dem2 && dem2 >= 2) {
            dem4++;
            dem2 = 0;
        }
    }

        i--;
        dem2 = 0;
        array.shift();

    }
    alert(dem4)


</script>
</body>
</html>